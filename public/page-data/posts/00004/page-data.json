{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/00004","result":{"data":{"markdownRemark":{"id":"2374c079-c124-5b7e-af45-8660c318f31c","html":"<h2 id=\"導入\" style=\"position:relative;\"><a href=\"#%E5%B0%8E%E5%85%A5\" aria-label=\"導入 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>導入</h2>\n<p>シーケンス図を簡易的に書くツールとしてPlantUMLがあります。<br>\n本日はPlantUMLをGatsbyブログに導入していこうと思います。  </p>\n<h2 id=\"目次\" style=\"position:relative;\"><a href=\"#%E7%9B%AE%E6%AC%A1\" aria-label=\"目次 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>目次</h2>\n<ol>\n<li>PlantUMLとは</li>\n<li>Javaのインストール</li>\n<li>Graphvizのインストール</li>\n<li>gatsby-remark-plantumlのインストール</li>\n<li>gatsby-config.js修正</li>\n<li>動作確認</li>\n</ol>\n<h2 id=\"plantumlとは\" style=\"position:relative;\"><a href=\"#plantuml%E3%81%A8%E3%81%AF\" aria-label=\"plantumlとは permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PlantUMLとは</h2>\n<p><a href=\"https://plantuml.com/ja/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">PlantUML</a>は、以下のようなダイアグラムを素早く作成するためのコンポーネントです。</p>\n<ul>\n<li>シーケンス図</li>\n<li>ユースケース図</li>\n<li>クラス図</li>\n<li>アクティビティ図</li>\n<li>コンポーネント図</li>\n<li>状態遷移図</li>\n<li>オブジェクト図</li>\n</ul>\n<p>マークダウンのような文法を書くことでシーケンス図などを記載でき、テキストベースなのでGitでバージョン管理できる点がメリットです。<br>\n多くはVisual Studio Codeに拡張機能を導入し、.puファイルを作成して利用することが一般的かと思います。<br>\n例えば.puファイルに以下のように記載します。  </p>\n<div class=\"gatsby-highlight\" data-language=\"md\"><pre class=\"language-md\"><code class=\"language-md\">@startuml\nAlice -> Bob: Authentication Request\nBob --> Alice: Authentication Response\n\nAlice -> Bob: Another authentication Request\nAlice &lt;-- Bob: Another authentication Response\n@enduml</code></pre></div>\n<p>これを画像として出力すると、以下のようなシーケンス図が表示されます。  </p>\n<svg xmlns=\"http://www.w3.org/2000/svg\" xlink=\"http://www.w3.org/1999/xlink\" contentscripttype=\"application/ecmascript\" contentstyletype=\"text/css\" height=\"224px\" preserveAspectRatio=\"none\" style=\"max-width: 100%; height: auto;\" version=\"1.1\" viewBox=\"0 0 303 224\" width=\"303px\" zoomAndPan=\"magnify\"><defs><filter height=\"300%\" id=\"fn3yvorrca0j1\" width=\"300%\" x=\"-1\" y=\"-1\"><feGaussianBlur result=\"blurOut\" stdDeviation=\"2.0\"/><feColorMatrix in=\"blurOut\" result=\"blurOut2\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0\"/><feOffset dx=\"4.0\" dy=\"4.0\" in=\"blurOut2\" result=\"blurOut3\"/><feBlend in=\"SourceGraphic\" in2=\"blurOut3\" mode=\"normal\"/></filter></defs><g><line style=\"stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;\" x1=\"33\" x2=\"33\" y1=\"38.4883\" y2=\"175.7305\"/><line style=\"stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;\" x1=\"266.5\" x2=\"266.5\" y1=\"38.4883\" y2=\"175.7305\"/><rect fill=\"#FEFECE\" filter=\"url(#fn3yvorrca0j1)\" height=\"30.4883\" style=\"stroke: #A80036; stroke-width: 1.5;\" width=\"47\" x=\"8\" y=\"3\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacingAndGlyphs\" textLength=\"33\" x=\"15\" y=\"23.5352\">Alice</text><rect fill=\"#FEFECE\" filter=\"url(#fn3yvorrca0j1)\" height=\"30.4883\" style=\"stroke: #A80036; stroke-width: 1.5;\" width=\"47\" x=\"8\" y=\"174.7305\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacingAndGlyphs\" textLength=\"33\" x=\"15\" y=\"195.2656\">Alice</text><rect fill=\"#FEFECE\" filter=\"url(#fn3yvorrca0j1)\" height=\"30.4883\" style=\"stroke: #A80036; stroke-width: 1.5;\" width=\"40\" x=\"244.5\" y=\"3\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacingAndGlyphs\" textLength=\"26\" x=\"251.5\" y=\"23.5352\">Bob</text><rect fill=\"#FEFECE\" filter=\"url(#fn3yvorrca0j1)\" height=\"30.4883\" style=\"stroke: #A80036; stroke-width: 1.5;\" width=\"40\" x=\"244.5\" y=\"174.7305\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacingAndGlyphs\" textLength=\"26\" x=\"251.5\" y=\"195.2656\">Bob</text><polygon fill=\"#A80036\" points=\"254.5,65.7988,264.5,69.7988,254.5,73.7988,258.5,69.7988\" style=\"stroke: #A80036; stroke-width: 1.0;\"/><line style=\"stroke: #A80036; stroke-width: 1.0;\" x1=\"33.5\" x2=\"260.5\" y1=\"69.7988\" y2=\"69.7988\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacingAndGlyphs\" textLength=\"147\" x=\"40.5\" y=\"65.0566\">Authentication Request</text><polygon fill=\"#A80036\" points=\"44.5,95.1094,34.5,99.1094,44.5,103.1094,40.5,99.1094\" style=\"stroke: #A80036; stroke-width: 1.0;\"/><line style=\"stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;\" x1=\"38.5\" x2=\"265.5\" y1=\"99.1094\" y2=\"99.1094\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacingAndGlyphs\" textLength=\"157\" x=\"50.5\" y=\"94.3672\">Authentication Response</text><polygon fill=\"#A80036\" points=\"254.5,124.4199,264.5,128.4199,254.5,132.4199,258.5,128.4199\" style=\"stroke: #A80036; stroke-width: 1.0;\"/><line style=\"stroke: #A80036; stroke-width: 1.0;\" x1=\"33.5\" x2=\"260.5\" y1=\"128.4199\" y2=\"128.4199\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacingAndGlyphs\" textLength=\"199\" x=\"40.5\" y=\"123.6777\">Another authentication Request</text><polygon fill=\"#A80036\" points=\"44.5,153.7305,34.5,157.7305,44.5,161.7305,40.5,157.7305\" style=\"stroke: #A80036; stroke-width: 1.0;\"/><line style=\"stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;\" x1=\"38.5\" x2=\"265.5\" y1=\"157.7305\" y2=\"157.7305\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacingAndGlyphs\" textLength=\"209\" x=\"50.5\" y=\"152.9883\">Another authentication Response</text><!--MD5=[6e15b09a21c4bcf3c9551ba78ad9a842]\n@startuml\nAlice -> Bob: Authentication Request\nBob - -> Alice: Authentication Response\n\nAlice -> Bob: Another authentication Request\nAlice <- - Bob: Another authentication Response\n@enduml\n\nPlantUML version 1.2020.15(Sun Jun 28 20:39:45 JST 2020)\n(MIT source distribution)\nJava Runtime: Java(TM) SE Runtime Environment\nJVM: Java HotSpot(TM) 64-Bit Server VM\nDefault Encoding: UTF-8\nLanguage: ja\nCountry: JP\n--></g></svg>\n<p>本日はこの機能をGatsbyブログに導入していきます。<br>\nGatsbyの公式から<a href=\"https://www.gatsbyjs.com/plugins/gatsby-remark-plantuml/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">gatsby-remark-plantuml</a>というプラグインが出ているので、これを使用していきます。  </p>\n<p>公式ページのインストール手順をもとに環境をセットアップしていきます。</p>\n<h2 id=\"javaのインストール\" style=\"position:relative;\"><a href=\"#java%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" aria-label=\"javaのインストール permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Javaのインストール</h2>\n<p>PlantUMLを使用するにはローカル環境にjavaをインストールする必要があります。<br>\nインストール方法については<a href=\"../posts/00005\">こちらの記事</a>を参照してください。  </p>\n<h2 id=\"graphvizのインストール\" style=\"position:relative;\"><a href=\"#graphviz%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" aria-label=\"graphvizのインストール permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Graphvizのインストール</h2>\n<p>PlantUMLでシーケンス図を書くだけであれば、Graphvizは不要なのですが、公式ページには以下の記載があります。  </p>\n<blockquote>\n<p>this is not optional as the plugin can’t tell if you plan to only create sequence or activity (beta) diagrams</p>\n</blockquote>\n<p>シーケンス図しか書くのかわからないから、Graphvizの設定はnot optionalだよ、的な意味だと思うので、どうやら必須のようです。<br>\nGraphvizのインストール方法については<a href=\"../posts/00005\">こちらの記事</a>を参照してください。  </p>\n<h2 id=\"gatsby-remark-plantumlのインストール\" style=\"position:relative;\"><a href=\"#gatsby-remark-plantuml%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" aria-label=\"gatsby remark plantumlのインストール permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>gatsby-remark-plantumlのインストール</h2>\n<p>PlantUMLで記載したコードブロックをSVGイメージに変換するためにGatsby Remarkプラグインをインストールします。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9cf2ecf014be33df0ea32caefb4fc20c/d9ed5/ScreenShot_2020-09-07_8.09.16.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.08333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABeklEQVQoz21Ty26DMBDk//+ot5576aUqHCo1VZpcEgL4CcYw3dmEBNoajWyZZXZ2dimciehag2maMI4jhiHp/hs5Z90ZN6RBzylJbBrx8vSB1+dPzNOMou97OOsQQkAfeyG8Bs/zvAHXeidIzkSpZ9Ksd0I4gKTMtgQRy4dN0yistbrXdQ3n3P29qhQByyqMMTifzjgJVKWQswwuEldVhbIsr/t7ife3Crvdl8YSJFyrLpzzmrltW8QYNxlVAcvH35W1XFaztaOgf6YzMMZqKcGHTcnHwx7edohe3lkD7wyCIHqr4HkcHyoLS0IhW/yjQhp9VzhIo6IkyexwfiAnvctCthagXSap91f/0rAt+XA4Yr//hhOvnWlVrZdzCBHhZtHdQy2ZHl4aDeDlMnMaJI81kswFtcNJpwnbOhmxQeOI9TgVDGwaaYgQcgY5i+sx8DaiqTtpWicjc0EnfjMuShybGG9CNoQXUUgs/qX0IFz+oPuf8c/Qrwl/AMLuWl7XIPvwAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/9cf2ecf014be33df0ea32caefb4fc20c/8ac56/ScreenShot_2020-09-07_8.09.16.webp 240w,\n/static/9cf2ecf014be33df0ea32caefb4fc20c/d3be9/ScreenShot_2020-09-07_8.09.16.webp 480w,\n/static/9cf2ecf014be33df0ea32caefb4fc20c/e46b2/ScreenShot_2020-09-07_8.09.16.webp 960w,\n/static/9cf2ecf014be33df0ea32caefb4fc20c/f992d/ScreenShot_2020-09-07_8.09.16.webp 1440w,\n/static/9cf2ecf014be33df0ea32caefb4fc20c/882b9/ScreenShot_2020-09-07_8.09.16.webp 1920w,\n/static/9cf2ecf014be33df0ea32caefb4fc20c/d3d72/ScreenShot_2020-09-07_8.09.16.webp 2880w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/9cf2ecf014be33df0ea32caefb4fc20c/8ff5a/ScreenShot_2020-09-07_8.09.16.png 240w,\n/static/9cf2ecf014be33df0ea32caefb4fc20c/e85cb/ScreenShot_2020-09-07_8.09.16.png 480w,\n/static/9cf2ecf014be33df0ea32caefb4fc20c/d9199/ScreenShot_2020-09-07_8.09.16.png 960w,\n/static/9cf2ecf014be33df0ea32caefb4fc20c/07a9c/ScreenShot_2020-09-07_8.09.16.png 1440w,\n/static/9cf2ecf014be33df0ea32caefb4fc20c/29114/ScreenShot_2020-09-07_8.09.16.png 1920w,\n/static/9cf2ecf014be33df0ea32caefb4fc20c/d9ed5/ScreenShot_2020-09-07_8.09.16.png 2880w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/9cf2ecf014be33df0ea32caefb4fc20c/d9199/ScreenShot_2020-09-07_8.09.16.png\"\n          alt=\"ScreenShot 2020-09-07 8.09.16.png\"\n          title=\"ScreenShot 2020-09-07 8.09.16.png\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save gatsby-transformer-remark gatsby-remark-plantuml</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">//実行ログ\nrui@ruinoMacBook-Pro gatsby-r-blog % <span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save gatsby-transformer-remark gatsby-remark-plantuml\n<span class=\"token function\">npm</span> WARN @pmmmwh/react-refresh-webpack-plugin@0.4.1 requires a peer of react-refresh@^0.8.3 but none is installed. You must <span class=\"token function\">install</span> peer dependencies yourself.\n<span class=\"token function\">npm</span> WARN @typescript-eslint/eslint-plugin@2.34.0 requires a peer of eslint@^5.0.0 <span class=\"token operator\">||</span> ^6.0.0 but none is installed. You must <span class=\"token function\">install</span> peer dependencies yourself.\n<span class=\"token function\">npm</span> WARN @typescript-eslint/parser@2.34.0 requires a peer of eslint@^5.0.0 <span class=\"token operator\">||</span> ^6.0.0 but none is installed. You must <span class=\"token function\">install</span> peer dependencies yourself.\n<span class=\"token function\">npm</span> WARN acorn-dynamic-import@4.0.0 requires a peer of acorn@^6.0.0 but none is installed. You must <span class=\"token function\">install</span> peer dependencies yourself.\n<span class=\"token function\">npm</span> WARN connected-react-router@6.8.0 requires a peer of seamless-immutable@^7.1.3 but none is installed. You must <span class=\"token function\">install</span> peer dependencies yourself.\n<span class=\"token function\">npm</span> WARN eslint-config-react-app@5.2.1 requires a peer of eslint@6.x but none is installed. You must <span class=\"token function\">install</span> peer dependencies yourself.\n<span class=\"token function\">npm</span> WARN eslint-loader@2.2.1 requires a peer of eslint@<span class=\"token operator\">></span><span class=\"token operator\">=</span><span class=\"token number\">1.6</span>.0 <span class=\"token operator\">&lt;</span><span class=\"token number\">7.0</span>.0 but none is installed. You must <span class=\"token function\">install</span> peer dependencies yourself.\n<span class=\"token function\">npm</span> WARN eslint-plugin-react-hooks@1.7.0 requires a peer of eslint@^3.0.0 <span class=\"token operator\">||</span> ^4.0.0 <span class=\"token operator\">||</span> ^5.0.0 <span class=\"token operator\">||</span> ^6.0.0 but none is installed. You must <span class=\"token function\">install</span> peer dependencies yourself.\n<span class=\"token function\">npm</span> WARN gatsby-interface@0.0.166 requires a peer of gatsby@2.6.0 but none is installed. You must <span class=\"token function\">install</span> peer dependencies yourself.\n<span class=\"token function\">npm</span> WARN gatsby-interface@0.0.166 requires a peer of react@16.8.1 but none is installed. You must <span class=\"token function\">install</span> peer dependencies yourself.\n<span class=\"token function\">npm</span> WARN gatsby-interface@0.0.166 requires a peer of react-dom@16.8.1 but none is installed. You must <span class=\"token function\">install</span> peer dependencies yourself.\n<span class=\"token function\">npm</span> WARN gatsby-remark-katex@3.3.11 requires a peer of katex@^0.10.0 but none is installed. You must <span class=\"token function\">install</span> peer dependencies yourself.\n<span class=\"token function\">npm</span> WARN netlify-cms-widget-code@1.2.2 requires a peer of codemirror@^5.46.0 but none is installed. You must <span class=\"token function\">install</span> peer dependencies yourself.\n<span class=\"token function\">npm</span> WARN netlify-cms-widget-list@2.6.3 requires a peer of netlify-cms-lib-widgets@^1.0.0 but none is installed. You must <span class=\"token function\">install</span> peer dependencies yourself.\n<span class=\"token function\">npm</span> WARN netlify-cms-widget-relation@2.8.3 requires a peer of netlify-cms-lib-widgets@^1.0.0 but none is installed. You must <span class=\"token function\">install</span> peer dependencies yourself.\n<span class=\"token function\">npm</span> WARN react-codemirror2@6.0.1 requires a peer of codemirror@5.x but none is installed. You must <span class=\"token function\">install</span> peer dependencies yourself.\n<span class=\"token function\">npm</span> WARN react-redux@4.4.10 requires a peer of redux@^2.0.0 <span class=\"token operator\">||</span> ^3.0.0 but none is installed. You must <span class=\"token function\">install</span> peer dependencies yourself.\n<span class=\"token function\">npm</span> WARN theme-ui@0.2.52 requires a peer of @mdx-js/react@^1.0.0 but none is installed. You must <span class=\"token function\">install</span> peer dependencies yourself.\n\n+ gatsby-transformer-remark@2.8.32\n+ gatsby-remark-plantuml@0.7.0\nadded <span class=\"token number\">4</span> packages from <span class=\"token number\">40</span> contributors, removed <span class=\"token number\">27</span> packages, updated <span class=\"token number\">1</span> package and audited <span class=\"token number\">3544</span> packages <span class=\"token keyword\">in</span> <span class=\"token number\">25</span>.681s\n\n<span class=\"token number\">207</span> packages are looking <span class=\"token keyword\">for</span> funding\n  run <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">npm</span> fund<span class=\"token variable\">`</span></span> <span class=\"token keyword\">for</span> details\n\nfound <span class=\"token number\">0</span> vulnerabilities\n\nrui@ruinoMacBook-Pro gatsby-r-blog %</code></pre></div>\n<h2 id=\"gatsby-configjs修正\" style=\"position:relative;\"><a href=\"#gatsby-configjs%E4%BF%AE%E6%AD%A3\" aria-label=\"gatsby configjs修正 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>gatsby-config.js修正</h2>\n<h3 id=\"gatsby-transformer-remark用設定追加\" style=\"position:relative;\"><a href=\"#gatsby-transformer-remark%E7%94%A8%E8%A8%AD%E5%AE%9A%E8%BF%BD%E5%8A%A0\" aria-label=\"gatsby transformer remark用設定追加 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>gatsby-transformer-remark用設定追加</h3>\n<p><code class=\"language-text\">gatsby-remark-plantuml</code>の設定をgatsby-config.jsに追加します。<br>\n読み込みの関係で<code class=\"language-text\">gatsby-remark-prismjs</code>より前に設定する必要があるようです。  </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// In your gatsby-config.js</span>\nplugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-transformer-remark</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          resolve<span class=\"token operator\">:</span> <span class=\"token string\">'gatsby-transformer-remark'</span><span class=\"token punctuation\">,</span>\n          options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n              ・・・\n              <span class=\"token punctuation\">{</span>\n                resolve<span class=\"token operator\">:</span> <span class=\"token string\">'gatsby-remark-plantuml'</span><span class=\"token punctuation\">,</span>\n                options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                  maxWidth<span class=\"token operator\">:</span> <span class=\"token string\">'480'</span><span class=\"token punctuation\">,</span>\n                  attributes<span class=\"token operator\">:</span> <span class=\"token string\">'max-width: 480;'</span>\n                <span class=\"token punctuation\">}</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n              <span class=\"token string\">'gatsby-remark-prismjs'</span><span class=\"token punctuation\">,</span>\n              ・・・\n            <span class=\"token punctuation\">]</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<h2 id=\"動作確認\" style=\"position:relative;\"><a href=\"#%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D\" aria-label=\"動作確認 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>動作確認</h2>\n<p>これで設定は完了です。<br>\nmdファイルににPlantUMLの文法に沿って、以下のようにソースを記載します。  </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0893b220307ef49d37d14073f06c152e/4a00e/ScreenShot_2020-09-09_0.18.37.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA00lEQVQoz5VR2RKCMAzk/7/QC4RSDqXcR7mcNSkeo6M4PmzTtMl2s7XmUSNVCr1uMBDmsQOfLfF/WG2dI/Q92LstMnXC2Dfou4rI6xdw8TS0P2Hl6RmB76LIEkSBQBKHEK5jHolDSXcefMrrMsNl0o/Grwp1W6KpMqOqKpTZl0TO+zJXFFPwo5xzzb3xG6nFhVKQQmryvSMiKeDae6POdQ6QdBZKD+Jo47DbGFue438g5FGYkJUs/tUPDzkydLvkHBmrHvLCRK8jvP/yLScPDVZ++QqIphs5pbl0GQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/0893b220307ef49d37d14073f06c152e/8ac56/ScreenShot_2020-09-09_0.18.37.webp 240w,\n/static/0893b220307ef49d37d14073f06c152e/d3be9/ScreenShot_2020-09-09_0.18.37.webp 480w,\n/static/0893b220307ef49d37d14073f06c152e/e46b2/ScreenShot_2020-09-09_0.18.37.webp 960w,\n/static/0893b220307ef49d37d14073f06c152e/05352/ScreenShot_2020-09-09_0.18.37.webp 1406w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/0893b220307ef49d37d14073f06c152e/8ff5a/ScreenShot_2020-09-09_0.18.37.png 240w,\n/static/0893b220307ef49d37d14073f06c152e/e85cb/ScreenShot_2020-09-09_0.18.37.png 480w,\n/static/0893b220307ef49d37d14073f06c152e/d9199/ScreenShot_2020-09-09_0.18.37.png 960w,\n/static/0893b220307ef49d37d14073f06c152e/4a00e/ScreenShot_2020-09-09_0.18.37.png 1406w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/0893b220307ef49d37d14073f06c152e/d9199/ScreenShot_2020-09-09_0.18.37.png\"\n          alt=\"ScreenShot 2020-09-09 0.18.37.png\"\n          title=\"ScreenShot 2020-09-09 0.18.37.png\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p>設定できていれば以下のようなシーケンス図が表示されるはずです！</p>\n<svg xmlns=\"http://www.w3.org/2000/svg\" xlink=\"http://www.w3.org/1999/xlink\" contentscripttype=\"application/ecmascript\" contentstyletype=\"text/css\" height=\"224px\" preserveAspectRatio=\"none\" style=\"max-width: 100%; height: auto;\" version=\"1.1\" viewBox=\"0 0 303 224\" width=\"303px\" zoomAndPan=\"magnify\"><defs><filter height=\"300%\" id=\"fn3yvorrca0j1\" width=\"300%\" x=\"-1\" y=\"-1\"><feGaussianBlur result=\"blurOut\" stdDeviation=\"2.0\"/><feColorMatrix in=\"blurOut\" result=\"blurOut2\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0\"/><feOffset dx=\"4.0\" dy=\"4.0\" in=\"blurOut2\" result=\"blurOut3\"/><feBlend in=\"SourceGraphic\" in2=\"blurOut3\" mode=\"normal\"/></filter></defs><g><line style=\"stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;\" x1=\"33\" x2=\"33\" y1=\"38.4883\" y2=\"175.7305\"/><line style=\"stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;\" x1=\"266.5\" x2=\"266.5\" y1=\"38.4883\" y2=\"175.7305\"/><rect fill=\"#FEFECE\" filter=\"url(#fn3yvorrca0j1)\" height=\"30.4883\" style=\"stroke: #A80036; stroke-width: 1.5;\" width=\"47\" x=\"8\" y=\"3\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacingAndGlyphs\" textLength=\"33\" x=\"15\" y=\"23.5352\">Alice</text><rect fill=\"#FEFECE\" filter=\"url(#fn3yvorrca0j1)\" height=\"30.4883\" style=\"stroke: #A80036; stroke-width: 1.5;\" width=\"47\" x=\"8\" y=\"174.7305\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacingAndGlyphs\" textLength=\"33\" x=\"15\" y=\"195.2656\">Alice</text><rect fill=\"#FEFECE\" filter=\"url(#fn3yvorrca0j1)\" height=\"30.4883\" style=\"stroke: #A80036; stroke-width: 1.5;\" width=\"40\" x=\"244.5\" y=\"3\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacingAndGlyphs\" textLength=\"26\" x=\"251.5\" y=\"23.5352\">Bob</text><rect fill=\"#FEFECE\" filter=\"url(#fn3yvorrca0j1)\" height=\"30.4883\" style=\"stroke: #A80036; stroke-width: 1.5;\" width=\"40\" x=\"244.5\" y=\"174.7305\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacingAndGlyphs\" textLength=\"26\" x=\"251.5\" y=\"195.2656\">Bob</text><polygon fill=\"#A80036\" points=\"254.5,65.7988,264.5,69.7988,254.5,73.7988,258.5,69.7988\" style=\"stroke: #A80036; stroke-width: 1.0;\"/><line style=\"stroke: #A80036; stroke-width: 1.0;\" x1=\"33.5\" x2=\"260.5\" y1=\"69.7988\" y2=\"69.7988\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacingAndGlyphs\" textLength=\"147\" x=\"40.5\" y=\"65.0566\">Authentication Request</text><polygon fill=\"#A80036\" points=\"44.5,95.1094,34.5,99.1094,44.5,103.1094,40.5,99.1094\" style=\"stroke: #A80036; stroke-width: 1.0;\"/><line style=\"stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;\" x1=\"38.5\" x2=\"265.5\" y1=\"99.1094\" y2=\"99.1094\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacingAndGlyphs\" textLength=\"157\" x=\"50.5\" y=\"94.3672\">Authentication Response</text><polygon fill=\"#A80036\" points=\"254.5,124.4199,264.5,128.4199,254.5,132.4199,258.5,128.4199\" style=\"stroke: #A80036; stroke-width: 1.0;\"/><line style=\"stroke: #A80036; stroke-width: 1.0;\" x1=\"33.5\" x2=\"260.5\" y1=\"128.4199\" y2=\"128.4199\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacingAndGlyphs\" textLength=\"199\" x=\"40.5\" y=\"123.6777\">Another authentication Request</text><polygon fill=\"#A80036\" points=\"44.5,153.7305,34.5,157.7305,44.5,161.7305,40.5,157.7305\" style=\"stroke: #A80036; stroke-width: 1.0;\"/><line style=\"stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;\" x1=\"38.5\" x2=\"265.5\" y1=\"157.7305\" y2=\"157.7305\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacingAndGlyphs\" textLength=\"209\" x=\"50.5\" y=\"152.9883\">Another authentication Response</text><!--MD5=[6e15b09a21c4bcf3c9551ba78ad9a842]\n@startuml\nAlice -> Bob: Authentication Request\nBob - -> Alice: Authentication Response\n\nAlice -> Bob: Another authentication Request\nAlice <- - Bob: Another authentication Response\n@enduml\n\nPlantUML version 1.2020.15(Sun Jun 28 20:39:45 JST 2020)\n(MIT source distribution)\nJava Runtime: Java(TM) SE Runtime Environment\nJVM: Java HotSpot(TM) 64-Bit Server VM\nDefault Encoding: UTF-8\nLanguage: ja\nCountry: JP\n--></g></svg>","fields":{"slug":"/posts/00004","tagSlugs":["/tag/gatsby/","/tag/plant-uml/"]},"frontmatter":{"date":"2020-09-09","description":"ちょっとした説明にシーケンス図を書きたいので、GatsbyブログにPlantUMLを導入してみたいと思います。","tags":["Gatsby","PlantUML"],"title":"GatsbyブログにPlantUMLを導入する","socialImage":null}}},"pageContext":{"slug":"/posts/00004"}},"staticQueryHashes":["251939775","3159585216","3942705351","401334301"]}